<?xml version="1.0"?>
<config>
  <modules>
    <Resultate_PaymentDeadline>
      <version>0.1.0</version>
    </Resultate_PaymentDeadline>
  </modules>

  <global>
    <helpers>
      <paymentdeadline>
        <class>Resultate_PaymentDeadline_Helper</class>
      </paymentdeadline>
    </helpers>
    <models>
      <resultate_paymentdeadline>
        <class>Resultate_PaymentDeadline_Model</class>
      </resultate_paymentdeadline>
    </models>
    <events>
      <catalog_product_save_after>
        <observers>
          <resultate_paymentdeadline>
            <class>resultate_paymentdeadline/observer</class>
            <method>logUpdate</method>
            <type>singleton</type>
          </resultate_paymentdeadline>
        </observers>
      </catalog_product_save_after>
    </events>
  </global>

  <admin>
    <routers>
      <paymentdeadline>
        <use>admin</use>
        <args>
          <module>Resultate_PaymentDeadline</module>
          <frontName>admin_paymentdeadline</frontName>
        </args>
      </paymentdeadline>
    </routers>
  </admin>

  <adminhtml>
    <acl>
      <resources>
        <admin>
          <children>
            <system>
              <children>
                <config>
                  <children>
                    <expiry_options>
                      <title>Configurar Vencimento Section</title>
                    </expiry_options>
                  </children>
                </config>
              </children>
            </system>
          </children>
        </admin>
      </resources>
    </acl>
  </adminhtml>

  <frontend>
    <routers>
      <paymentdeadline>
        <use>standard</use>
        <args>
          <module>Resultate_PaymentDeadline</module>
          <frontName>paymentdeadline</frontName>
        </args>
      </paymentdeadline>
    </routers>
    <events>
      <customer_login>
        <observers>
          <resultate_paymentdeadline_customer_login>
            <type>model</type>
            <class>resultate_paymentdeadline/observer</class>
            <method>customerLogin</method>
          </resultate_paymentdeadline_customer_login>
        </observers>
      </customer_login>
    </events>
  </frontend>

  <crontab>
    <jobs>
      <order_cancel_orders>
        <schedule><cron_expr>*/5 * * * *</cron_expr></schedule>
        <run><model>resultate_paymentdeadline/observer::cancelUnpaidOrders</model></run>
      </order_cancel_orders>
    </jobs>
  </crontab>

</config>
